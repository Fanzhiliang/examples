var Tools={};Tools.getStyles=function(t){return t.currentStyle?t.currentStyle:getComputedStyle(t,null)},Tools.setStyle=function(t,e,i){Tools.getStyles(t)&&(t.style[e]=i)},Tools.getStyle=function(t,e){if(Tools.getStyles(t)){var i=t.style[e],s=parseFloat(i);return isNaN(s)?i:s}},$(document).ready(function(){var t=$(".button"),e=$(".item"),i=$(".tip");if(t.length<1||e.length<1||t.length!=e.length)return!1;var s={interval:10,changeSpeed:1,color:"#05a0fa",lineWidth:5,angle_start:-Math.PI/2,angle:Math.PI/180},n={widthSpeed:.04,opacitySpeed:.01},a={interval:25,changeSpeed:1},c={},r={},o=function(t){var e=this.clearCircle();if(!e)return!1;e.strokeStyle=s.color,e.lineWidth=s.lineWidth,e.beginPath(),e.arc(11,12,8,s.angle_start,s.angle_start+s.angle*t,!1),e.stroke()},l=function(){var t=$(this).find("canvas")[0],e=t.getContext("2d");return!(!t||!e)&&(e.clearRect(0,0,t.width,t.height),e)},h=function(){var t=parseFloat(Tools.getStyle(this,"width"))+n.widthSpeed*$(this).attr("dir"),e=parseFloat($(this).css("opacity"));e=e>=1?1:e+n.opacitySpeed,$(this).css("width",t+"%"),$(this).css("opacity",e)},u=function(){$(this).css("opacity",0),$(this).css("width","120%"),0==Math.round(Math.random())?($(this).css("width","120%"),$(this).attr("dir",-1)):($(this).css("width","105%"),$(this).attr("dir",1)),0==Math.round(Math.random())?($(this).css("top",0),$(this).css("bottom","")):($(this).css("top",""),$(this).css("bottom",0)),0==Math.round(Math.random())?($(this).css("left",-(Math.floor(5*Math.random())+1)+"%"),$(this).css("right","")):($(this).css("left",""),$(this).css("right",-(Math.floor(5*Math.random())+1)+"%"))},d=function(){var t=$(".button.on")[0];c=setTimeout(function(){var e=t.currAngle+s.changeSpeed;e>370?(t.drawCircle(360),t.currAngle=0,$(".item.on")[0].reset(),p(1)):(t.drawCircle(e),t.currAngle=e,$(".item.on")[0].change(),c=setTimeout(arguments.callee,s.interval))},s.interval)},g=function(){clearTimeout(c),c={}},f=function(t){var i=$(".button.on"),s=this.className,n=$(".item.on"),a=e[t].className;return i!==this&&(1==i.length&&1==n.length&&(i=i[0],n=n[0],n.reset(),this.className=i.className,i.className=s,e[t].className=n.className,n.className=a,i.currAngle=0,this.currAngle=0,g(),i.clearCircle(),void d()))},m=function(e){f.call(t[this.index],this.index)},p=function(e){var i=$(".button.on")[0],s=i.index,n=t.length;s==n-1&&1==e?f.call(t[0],0):0==s&&-1==e?f.call(t[n-1],n-1):f.call(t[s+e],s+e)},v=function(){$(this).css("display","block");var t=0,e=$(this).find(".img-frame");r=setTimeout(function(){t=parseInt(e.css("background-size"))-a.changeSpeed,t<=95?e.css("background-size","95px auto"):(e.css("background-size",t+"px auto"),r=setTimeout(arguments.callee,t<=150?a.interval+10:a.interval))},a.interval)},y=function(){$(this).css("display","none"),$(this).find(".img-frame").css("background-size","250px auto"),clearTimeout(r),r={}};t.each(function(t){this.drawCircle=o,this.clearCircle=l,this.currAngle=0,this.index=t,$(this).click(m),i.length>0&&$(this).hover(function(){i[t].showTip()},function(){i[t].hiddenTip()})}),e.each(function(){this.change=h,this.reset=u,this.reset()}),i.each(function(){this.showTip=v,this.hiddenTip=y,this.hiddenTip()}),$(".carousel").mouseenter(g),$(".carousel").mouseout(d),$(".prev").click(function(){p(-1)}),$(".next").click(function(){p(1)}),d()});